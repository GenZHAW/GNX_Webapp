<script src="/js/clientJS/adminpanel/cronjob.js"></script>

<div class="bg-grey-level1 xl:pr-4 pr-4 px-4 md:px-8 py-6">
    <h3 class="text-2xl mb-5 font-bold font-orbitron text-white">Cronjobs</h3>

    <%- include('../../components/buttondefault', {type: 'button', id: 'newCronjob', text: 'Add new Cronjob', icon: 'ri-time-line', btnType: 'Success'}) %>

    <!-- ADD NEW CRONJOB -->
    <div class="bg-grey-level2 mt-4 p-4" id="addNewCronjob">
        <h2 class="font-semibold font-montserrat text-lg text-almost-white">Add new Cronjob</h2>

        <div class="flex flex-row gap-4 items-center mt-4">
            <p>Choose Job Type:</p>
            <%- include('../../components/dropdown', {id: 'jobType', options: [], width: 'w-72'}) %>
        </div>

        <div id="configGUI" class="flex mt-4 flex-col">
            <h2 class="font-semibold font-montserrat text-lg text-almost-white">Advanced Configuration</h2>

            <p class="font-semibold font-montserrat text-md text-almost-white mt-4">Execution Interval</p>
            <div class="flex flex-row mt-2 items-center gap-4">
                <p>Minutes (0-59)</p>
                <%- include('../../components/entryfield', {type: 'text', name: 'minutes', id: 'minutes', width: 'w-16'}) %>
                <p>Hours (0-23)</p>
                <%- include('../../components/entryfield', {type: 'text', name: 'minutes', id: 'minutes', width: 'w-16'}) %>
                <p>Day of Month (1-31)</p>
                <%- include('../../components/entryfield', {type: 'text', name: 'minutes', id: 'minutes', width: 'w-16'}) %>
                <p>Month (1-12)</p>
                <%- include('../../components/entryfield', {type: 'text', name: 'minutes', id: 'minutes', width: 'w-16'}) %>
                <p>Day of Week (0-6)</p>
                <%- include('../../components/entryfield', {type: 'text', name: 'minutes', id: 'minutes', width: 'w-16'}) %>
            </div>

            <div id="configGUIContent" class="flex">

            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        initPage();

        $("#jobType").change(function() {
            let jobType = $(this).val();

            buildConfigGUI(jobType)
        });
    });
</script>